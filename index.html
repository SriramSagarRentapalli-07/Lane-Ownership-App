<!DOCTYPE html>
<html>
<head>
  <title>Lane Ownership Pro</title>
  <meta name="viewport" content="width=device-width">
  <script src="https://unpkg.com/@heroicons/react@2.0.18/24/outline/index.js"></script>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif; background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); min-height:100vh; }
    .app { max-width:1200px; margin:0 auto; padding:20px; }
    .header { background: rgba(255,255,255,0.95); backdrop-filter:blur(20px); border-radius:20px; padding:20px; margin-bottom:30px; box-shadow:0 20px 40px rgba(0,0,0,0.1); }
    .lanes { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin:30px 0; }
    .lane { background:linear-gradient(145deg,#ffffff,#e6e6e6); border-radius:20px; padding:25px; text-align:center; box-shadow:0 10px 30px rgba(0,0,0,0.1); transition:all 0.3s; cursor:pointer; }
    .lane:hover { transform:translateY(-10px); box-shadow:0 20px 40px rgba(0,0,0,0.2); }
    .density { height:20px; background:linear-gradient(to right, #ff0000 0%, #ffff00 50%, #00ff00 100%); border-radius:10px; margin:10px 0; transition:all 0.5s; }
    .claim-btn { background:linear-gradient(45deg,#4CAF50,#45a049); color:white; border:none; padding:20px 40px; border-radius:50px; font-size:18px; font-weight:700; cursor:pointer; width:100%; margin:20px 0; box-shadow:0 10px 30px rgba(76,175,80,0.4); transition:all 0.3s; }
    .claim-btn:hover { transform:scale(1.05); box-shadow:0 15px 40px rgba(76,175,80,0.6); }
    .owned { background:linear-gradient(45deg,#FF9800,#F57C00) !important; animation:pulse 2s infinite; }
    @keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }
    .stats { display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:20px; margin-top:40px; }
    .stat { background:rgba(255,255,255,0.9); padding:20px; border-radius:15px; text-align:center; }
    @media (max-width:768px) { .lanes { grid-template-columns:1fr 1fr; } }
  </style>
</head>
<body>
  <div class="app">
    <div class="header">
      <h1 style="font-size:2.5em;font-weight:900;color:#1a1a1a;text-align:center;">ðŸš— Lane Ownership Pro</h1>
      <p style="text-align:center;color:#666;font-size:1.2em;margin-top:10px;">Real-time traffic lane management system</p>
    </div>
    
    <div class="lanes" id="lanes">
      <!-- Dynamic lanes populated by JS -->
    </div>
    
    <button class="claim-btn" onclick="claimLane()">ðŸŽ¯ Claim Busiest Lane</button>
    
    <div class="stats">
      <div class="stat"><div style="font-size:2em;font-weight:900;color:#4CAF50;">127</div><div>Total Claims</div></div>
      <div class="stat"><div style="font-size:2em;font-weight:900;color:#2196F3;">2.3min</div><div>Avg Wait</div></div>
      <div class="stat"><div style="font-size:2em;font-weight:900;color:#FF9800;">94%</div><div>Jam Free</div></div>
    </div>
  </div>

  <script>
    const laneData = {
      Fast: { count: 3, color: '#4CAF50' },
      Mid: { count: 1, color: '#2196F3' },
      Slow: { count: 5, color: '#FF9800' },
      Truck: { count: 2, color: '#9C27B0' }
    };
    let ownedLane = null;

    function renderLanes() {
      const container = document.getElementById('lanes');
      container.innerHTML = Object.entries(laneData).map(([name, data], i) => `
        <div class="lane ${ownedLane === name ? 'owned' : ''}" onclick="claimLane('${name}')">
          <h3 style="margin-bottom:10px;font-size:1.5em;">${name}</h3>
          <div class="density" style="width:${Math.min(100, data.count * 20)}%"></div>
          <div style="font-size:1.2em;font-weight:700;margin-top:10px;">${data.count} vehicles</div>
        </div>
      `).join('');
    }

    function claimLane(specificLane = null) {
      // Your C algorithm in JS
      let bestLane = 'Fast';
      let maxCount = laneData.Fast.count;
      
      Object.entries(laneData).forEach(([name, data]) => {
        if (data.count > maxCount && name !== 'Truck') {
          maxCount = data.count;
          bestLane = name;
        }
      });
      
      if (specificLane) bestLane = specificLane;
      
      laneData[bestLane].count = Math.max(0, laneData[bestLane].count - 1);
      ownedLane = bestLane;
      
      renderLanes();
      
      // Premium notification
      const btn = document.querySelector('.claim-btn');
      btn.textContent = `âœ… Owned ${bestLane} Lane!`;
      btn.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';
      setTimeout(() => {
        btn.textContent = 'ðŸŽ¯ Claim Busiest Lane';
        ownedLane = null;
        renderLanes();
      }, 3000);
    }

    // Simulate live data
    setInterval(() => {
      if (!ownedLane) {
        Object.values(laneData).forEach(lane => {
          lane.count += Math.random() > 0.7 ? 1 : 0;
          if (lane.count > 10) lane.count = 10;
        });
        renderLanes();
      }
    }, 2000);

    renderLanes();
  </script>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="data:application/manifest+json,{
    'name':'Lane Ownership Pro',
    'short_name':'LanePro',
    'start_url':'/',
    'display':'standalone',
    'background_color':'#667eea',
    'theme_color':'#667eea',
    'icons':[{'src':'data:image/svg+xml;base64,...','sizes':'192x192','type':'image/png'}]
  }">
</body>
</html>
